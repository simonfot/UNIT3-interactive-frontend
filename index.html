<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>UNIT3 - Creative Community Hub</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
    <meta name="description" content="UNIT3 - A creative community hub with cafe, workspaces, events, exhibitions and more">
</head>
<body data-layout-mode="grid">
    <!-- Logo and Sidebar -->
    <aside class="sidebar">
        <div class="logo-container">
            <span class="logo">UNIT</span>
            <span class="logo-number">3</span>
        </div>

        <div class="sidebar-section">
            <h2>Creates</h2>
            <div class="section-links">
                <button class="section-button" data-section="workshops">Workshops</button>
                <button class="section-button" data-section="marketplace">Marketplace</button>
                <button class="section-button" data-section="skillshare">Skill-Share</button>
                <button class="section-button" data-section="workroom">The Workroom</button>
            </div>
        </div>

        <div class="sidebar-section">
            <h2>Curates</h2>
            <div class="section-links">
                <button class="section-button" data-section="exhibitions">Exhibitions</button>
                <button class="section-button" data-section="events">Events</button>
                <button class="section-button" data-section="fungi">The Fungi Room</button>
                <button class="section-button" data-section="climate">Creative Climate Collab</button>
            </div>
        </div>

        <div class="sidebar-section">
            <h2>Connects</h2>
            <div class="section-links">
                <button class="section-button" data-section="directory">Directory</button>
                <button class="section-button" data-section="zine">Zine</button>
                <button class="section-button" data-section="opportunities">Opportunities</button>
            </div>
        </div>

        <div class="sidebar-section">
            <h2>Caf√©</h2>
            <div class="section-links">
                <button class="section-button" data-section="menu">Menu</button>
                <button class="section-button" data-section="day">By Day</button>
                <button class="section-button" data-section="night">By Night</button>
            </div>
        </div>

        <!-- Theme Tools -->
        <div class="sidebar-tools">
            <div class="color-picker">
                <input type="color" id="themeColor" value="#4ecdc4">
                <label for="themeColor" class="color-picker-label">‚óê</label>
            </div>
            <button class="view-mode-toggle" title="Toggle Light/Dark Mode">
                <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </button>
        </div>
    </aside>

    <!-- Main Content Area -->
    <main class="main-container">
        <!-- Top Navigation Bar -->
        <nav class="top-nav">
            <div class="dropdown-nav">
                <div class="dropdown">
                    <span class="dropdown-trigger">Discover</span>
                    <div class="dropdown-content">
                        <button class="section-button" data-section="map">
                            <span class="icon">üó∫Ô∏è</span>
                            <span>Interactive Map</span>
                        </button>
                        <button class="section-button" data-section="now">
                            <span class="icon">‚è±Ô∏è</span>
                            <span>Happening Now</span>
                        </button>
                        <button class="section-button" data-section="upcoming">
                            <span class="icon">üìÖ</span>
                            <span>Upcoming</span>
                        </button>
                    </div>
                </div>

                <div class="dropdown">
                    <span class="dropdown-trigger">Latest</span>
                    <div class="dropdown-content">
                        <button class="section-button" data-section="latest">
                            <span class="icon">üì∞</span>
                            <span>Latest Updates</span>
                        </button>
                        <button class="section-button" data-section="news">
                            <span class="icon">üì£</span>
                            <span>News</span>
                        </button>
                    </div>
                </div>

                <div class="dropdown">
                    <span class="dropdown-trigger">Calendar</span>
                    <div class="dropdown-content calendar-dropdown">
                        <!-- Calendar will be inserted here by JavaScript -->
                    </div>
                </div>
            </div>

            <div class="layout-controls">
                <button class="layout-toggle" title="Toggle Layout Mode">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <path d="M3 9h18M9 21V9"></path>
                    </svg>
                </button>
            </div>
        </nav>

        <!-- Section Tabs -->
        <div class="section-tabs" id="sectionTabs">
            <!-- Section tabs will be added here by JavaScript -->
        </div>

        <!-- Content Area -->
        <div class="content-area" id="contentArea">
            <!-- Sections will be added here by JavaScript -->
        </div>

        <!-- Add Section Button -->
        <button id="addSectionBtn" class="add-section-btn" aria-label="Add Section">
            <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        </button>
    </main>

    <!-- Relationship Lines SVG -->
    <svg id="relationshipLines" class="relationship-lines"></svg>

    <!-- Interactive Map -->
    <div class="spatial-map" id="spatialMap">
        <button class="spatial-map-close" aria-label="Close Map">√ó</button>
        <div class="spatial-map-content">
            <h2>UNIT3 Interactive Map</h2>
            <div class="map-controls">
                <button data-mode="default" class="mode-button active">Default</button>
                <button data-mode="activities" class="mode-button">Activities</button>
                <button data-mode="spaces" class="mode-button">Spaces</button>
            </div>
            <div class="map-container">
                <div class="map-area">
                    <svg id="venueMap" viewBox="0 0 800 500">
                        <!-- Cafe Area -->
                        <g class="map-section" data-section="cafe">
                            <rect x="50" y="50" width="300" height="200" class="map-room" />
                            <text x="200" y="150" class="map-label">Caf√© Space</text>
                        </g>
                        
                        <!-- Workroom -->
                        <g class="map-section" data-section="workroom">
                            <rect x="400" y="50" width="350" height="200" class="map-room" />
                            <text x="575" y="150" class="map-label">Workroom</text>
                        </g>
                        
                        <!-- Exhibition Space -->
                        <g class="map-section" data-section="exhibition">
                            <rect x="50" y="300" width="450" height="150" class="map-room" />
                            <text x="275" y="375" class="map-label">Exhibition Space</text>
                        </g>
                        
                        <!-- Fungi Room -->
                        <g class="map-section" data-section="fungi">
                            <rect x="550" y="300" width="200" height="150" class="map-room" />
                            <text x="650" y="375" class="map-label">Fungi Room</text>
                        </g>

                        <!-- Activity Indicators -->
                        <g class="activity-indicators">
                            <circle cx="200" cy="100" r="8" class="activity-dot active" data-activity="Coffee Workshop" />
                            <circle cx="575" cy="100" r="8" class="activity-dot moderate" data-activity="Digital Workspaces" />
                            <circle cx="275" cy="325" r="8" class="activity-dot quiet" data-activity="Art Installation" />
                            <circle cx="650" cy="325" r="8" class="activity-dot active" data-activity="Fungi Tour" />
                        </g>
                    </svg>
                </div>
                <div class="map-sidebar">
                    <div class="map-legend">
                        <h3>Legend</h3>
                        <div class="legend-item">
                            <span class="legend-color cafe"></span>
                            <span class="legend-text">Caf√© Space</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color workroom"></span>
                            <span class="legend-text">Workroom</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color exhibition"></span>
                            <span class="legend-text">Exhibition</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color fungi"></span>
                            <span class="legend-text">Fungi Room</span>
                        </div>
                    </div>

                    <div class="activity-feed">
                        <h3>Current Activities</h3>
                        <ul id="activityList">
                            <!-- Activity list will be populated by JavaScript -->
                        </ul>
                    </div>

                    <div class="occupancy-meter">
                        <h3>Current Occupancy</h3>
                        <div class="meter-container">
                            <div class="meter-fill" style="width: 65%;"></div>
                            <span class="meter-text">65%</span>
                        </div>
                        <p class="meter-message">Good availability</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Map Toggle Button -->
    <button id="toggleSpatialMap" class="map-toggle">
        <span class="map-icon">üó∫Ô∏è</span>
    </button>

    <!-- Section Picker Dialog -->
    <div class="section-picker" id="sectionPicker">
        <div class="picker-header">
            <h3>Add Section</h3>
            <button class="close-picker">√ó</button>
        </div>
        <div class="picker-options">
            <!-- Options will be populated by JavaScript -->
        </div>
    </div>

    <!-- Related Content Panel -->
    <div class="related-content-panel" id="relatedContent">
        <div class="panel-header">
            <h3>Related Content</h3>
            <button class="close-panel">√ó</button>
        </div>
        <div class="panel-content">
            <!-- Related content suggestions will be added here by JavaScript -->
        </div>
    </div>

    <!-- Section Color Picker -->
    <div class="section-color-picker" id="sectionColorPicker">
        <div class="picker-header">
            <h3>Section Color</h3>
            <button class="close-picker">√ó</button>
        </div>
        <div class="color-options">
            <button class="color-option" data-color="#ff6b6b" style="background-color: #ff6b6b;"></button>
            <button class="color-option" data-color="#4ecdc4" style="background-color: #4ecdc4;"></button>
            <button class="color-option" data-color="#95a5a6" style="background-color: #95a5a6;"></button>
            <button class="color-option" data-color="#ffd93d" style="background-color: #ffd93d;"></button>
            <button class="color-option" data-color="#6c5ce7" style="background-color: #6c5ce7;"></button>
            <button class="color-option" data-color="#fdcb6e" style="background-color: #fdcb6e;"></button>
            <button class="color-option" data-color="#55efc4" style="background-color: #55efc4;"></button>
            <button class="color-option" data-color="#81ecec" style="background-color: #81ecec;"></button>
            <button class="color-option" data-color="#fab1a0" style="background-color: #fab1a0;"></button>
        </div>
        <input type="color" id="customSectionColor" class="custom-color-input">
    </div>

    <!-- JavaScript Files (in specific load order) -->
    <script src="js/utils.js"></script>
    <script src="js/relationships.js"></script>
    <script src="js/layout.js"></script>
    <script src="js/templates.js"></script>
    <script src="js/sections.js"></script>
    <script src="js/spatial.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
